<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<PropertyGroup>
		<_IsWindows Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Windows)))' == 'true'">true</_IsWindows>
		<_IsMacOS Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::OSX)))' == 'true'">true</_IsMacOS>
		<_IsLinux Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Linux)))' == 'true'">true</_IsLinux>

		<_NativeRuntime Condition=" '$(_NativeRuntime)' == '' And '$(_IsMacOS)' == 'true' And '$(PlatformTarget)' == 'x64'">osx</_NativeRuntime>
		<_NativeRuntime Condition=" '$(_NativeRuntime)' == '' And '$(_IsMacOS)' == 'true' And '$(PlatformTarget)' == 'ARM64'">osx</_NativeRuntime>
		<_NativeRuntime Condition=" '$(_NativeRuntime)' == '' And '$(_IsLinux)' == 'true' And ('$(Prefer32Bit)' == 'false' Or '$(PlatformTarget)' == 'x64')">linux-x64</_NativeRuntime>
		<_NativeRuntime Condition=" '$(_NativeRuntime)' == '' And '$(_IsWindows)' == 'true' And ('$(Prefer32Bit)' == 'true' Or '$(PlatformTarget)' == 'x86')">win-x86</_NativeRuntime>
		<_NativeRuntime Condition=" '$(_NativeRuntime)' == '' And '$(_IsWindows)' == 'true' And ('$(Prefer32Bit)' == 'false' Or '$(PlatformTarget)' == 'x64')">win-x64</_NativeRuntime>

		<_NativeLibName Condition="'$(_NativeRuntime)' == 'win-x86' Or '$(_NativeRuntime)' == 'win-x64'">manifoldc.dll</_NativeLibName>
		<_NativeLibName Condition="'$(_NativeRuntime)' == 'osx'">manifoldc.dylib</_NativeLibName>
		<_NativeLibName Condition="'$(_NativeRuntime)' == 'linux-x64'">manifoldc.so</_NativeLibName>
	</PropertyGroup>

	<ItemGroup>
		<Content Condition="'$(_NativeRuntime)' != ''" Include="$(MSBuildThisFileDirectory)..\..\runtimes\$(_NativeRuntime)\native\$(_NativeLibName)">
			<Link>%(Filename)%(Extension)</Link>
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
			<Visible>False</Visible>
		</Content>
	</ItemGroup>

	<ItemGroup Condition="'$(_IsWindows)' == 'true'">
		<Content Include="$(MSBuildThisFileDirectory)..\..\runtimes\$(_NativeRuntime)\native\manifoldc.dll">
			<Link>%(Filename)%(Extension)</Link>
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
			<Visible>False</Visible>
		</Content>
		<Content Include="$(MSBuildThisFileDirectory)..\..\runtimes\$(_NativeRuntime)\native\assimp-vc143-mt.dll">
			<Link>%(Filename)%(Extension)</Link>
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
			<Visible>False</Visible>
		</Content>
		<Content Include="$(MSBuildThisFileDirectory)..\..\runtimes\$(_NativeRuntime)\native\minizip.dll">
			<Link>%(Filename)%(Extension)</Link>
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
			<Visible>False</Visible>
		</Content>
		<Content Include="$(MSBuildThisFileDirectory)..\..\runtimes\$(_NativeRuntime)\native\poly2tri.dll">
			<Link>%(Filename)%(Extension)</Link>
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
			<Visible>False</Visible>
		</Content>
		<Content Include="$(MSBuildThisFileDirectory)..\..\runtimes\$(_NativeRuntime)\native\pugixml.dll">
			<Link>%(Filename)%(Extension)</Link>
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
			<Visible>False</Visible>
		</Content>
		<Content Include="$(MSBuildThisFileDirectory)..\..\runtimes\$(_NativeRuntime)\native\zlib1.dll">
			<Link>%(Filename)%(Extension)</Link>
			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
			<Visible>False</Visible>
		</Content>
	</ItemGroup>

</Project>